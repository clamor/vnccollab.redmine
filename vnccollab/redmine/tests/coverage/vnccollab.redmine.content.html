
    <html>
      <head><title>Test coverage for vnccollab.redmine.content</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Test coverage for vnccollab.redmine.content</h1>
      <table>
    
<tr><td><a href="vnccollab.html">vnccollab/</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 82% (87 of 492 uncovered)</td></tr>
<tr><td><a href="vnccollab.redmine.html">&nbsp;&nbsp;&nbsp;&nbsp;redmine/</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 82% (87 of 492 uncovered)</td></tr>
<tr><td><a href="vnccollab.redmine.content.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content.py</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 88% (9 of 75 uncovered)</td></tr>
</table><hr/>
<pre>    1: from DateTime import DateTime
       
    1: from zope.interface import implements
    1: from Products.CMFPlone.utils import safe_unicode
       
    1: from vnccollab.redmine.interfaces import IUser, IIssue, IReference, IJournal
       
       
    2: class BaseRemine:
    1:     def __init__(self, raw):
    8:         self.raw = raw
    8:         self.raw_is_dict = isinstance(raw, dict)
    8:         self.id = self._su('id')
       
    1:     def _getattr(self, key, default=u''):
               '''The raw object could be an object or a dict.'''
  130:         if self.raw_is_dict:
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;             val = self.raw.get(key, default)</div>               else:
  130:             val = getattr(self.raw, key, default)
       
  130:         return val
       
    1:     def _su(self, key):
   32:         return safe_unicode(self._getattr(key, u''))
       
    1:     def _float(self, key, default):
   14:         val = self._getattr(key, default)
       
   14:         if val is None:
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;             val = default</div>       
   14:         return float(val)
       
    1:     def _date(self, key):
   28:         date = self._getattr(key, None)
       
   28:         if date is not None:
   21:             date = DateTime(date)
       
   28:         return date
       
    1:     def _reference(self, key):
   49:         val = self._getattr(key, None)
       
   49:         if val is not None:
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;             val = Reference(val)</div>       
   49:         return val
       
       
    2: class Reference(BaseRemine):
    1:     implements(IReference)
       
    1:     def __init__(self, ref):
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         BaseRemine.__init__(self, ref)</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.name = self._su('name')</div>       
       
    2: class User(BaseRemine):
    1:     implements(IUser)
       
    1:     def __init__(self, user):
    1:         BaseRemine.__init__(self, user)
    1:         self.firstname = self._su('firstname')
    1:         self.lastname = self._su('lastname')
    1:         self.mail = self._su('mail')
       
       
    2: class Journal(BaseRemine):
    1:     implements(IJournal)
       
    1:     def __init__(self, journal):
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         BaseRemine.__init__(self, journal)</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.user = self._reference('user')</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.notes = self._su('notes') or u''</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.created_on = self._date('created_on')</div>       
       
    2: class Issue(BaseRemine):
    1:     implements(IIssue)
       
    1:     def __init__(self, issue):
    7:         BaseRemine.__init__(self, issue)
    7:         self.project = self._reference('project')
    7:         self.tracker = self._reference('tracker')
    7:         self.author = self._reference('author')
    7:         self.status = self._reference('status')
    7:         self.assigned_to = self._reference('assigned_to')
    7:         self.priority = self._reference('priority')
    7:         self.parent = self._reference('parent')
    7:         self.subject = self._su('subject')
    7:         self.description = self._su('description')
    7:         self.estimated_hours = self._float('estimated_hours', -1)
    7:         self.done_ratio = self._float('done_ratio', 0)
    7:         self.start_date = self._date('start_date')
    7:         self.due_date = self._date('due_date')
    7:         self.created_on = self._date('created_on')
    7:         self.updated_on = self._date('updated_on')
    7:         self.fixed_version = self._su('fixed_version')
    7:         self.journals = self._journals(issue)
       
    1:     def _journals(self, issue):
    7:         journals = self._getattr('journals', [])
    7:         journals = [Journal(x) for x in journals]
    7:         return journals
</pre>

      <div class="footer">
      Generated for revision Niewersjonowany katalog on 2014-03-20 17:31:58.681320Z
      </div>
    </body>
    </html>
